<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ITエンジニア育成カリキュラム - Day12: ジェネリクスと型安全性</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">
    <style>
        .instructor-note {
            background: linear-gradient(135deg, #e8f5e8 0%, #f0f8f0 100%);
            border-left: 4px solid #4CAF50;
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 0.5rem;
        }
        .understanding-tip {
            background: linear-gradient(135deg, #e3f2fd 0%, #f1f8ff 100%);
            border-left: 4px solid #2196F3;
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 0.5rem;
        }
        .warning-box {
            background: linear-gradient(135deg, #fff3e0 0%, #fff8f0 100%);
            border-left: 4px solid #ff9800;
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 0.5rem;
        }
        .term-definition {
            background: linear-gradient(135deg, #f3e5f5 0%, #faf2fc 100%);
            border: 1px solid #9c27b0;
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 0.5rem;
        }
        .code-explanation {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            padding: 1rem;
            margin: 0.5rem 0;
            border-radius: 0.25rem;
            font-family: 'Courier New', monospace;
        }
        .answer-section {
            background: #f0f9ff;
            border: 1px solid #0ea5e9;
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 0.5rem;
            display: none;
        }
        .exercise-section {
            background: #fefce8;
            border: 1px solid #eab308;
            padding: 1.5rem;
            margin: 1rem 0;
            border-radius: 0.5rem;
        }
    .quiz-question {
        background: white;
        border: 1px solid #d1d5db;
        padding: 1.5rem;
        margin: 1rem 0;
        border-radius: 0.5rem;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
    }
    .fixed-nav {
        backdrop-filter: blur(10px);
        background-color: rgba(255, 255, 255, 0.95);
    }
    .nav-link:hover {
        background-color: rgba(59, 130, 246, 0.1);
    }
    .breadcrumb-separator::after {
        content: ">";
        margin: 0 8px;
        color: #9CA3AF;
    }
</style>
</head>
<body class="bg-gray-50 text-gray-900">
    <nav class="fixed top-0 left-0 right-0 z-50 fixed-nav border-b border-gray-200">
        <div class="bg-blue-600 text-white">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="flex items-center justify-between h-12">
                    <div class="flex items-center">
                        <i class="fas fa-graduation-cap mr-2"></i>
                        <span class="font-semibold">ITエンジニア育成カリキュラム</span>
                    </div>
                    <div class="flex items-center space-x-4">
                        <a href="./lecture11.html" class="nav-link px-3 py-1 rounded text-sm hover:bg-blue-700 transition-colors">
                            <i class="fas fa-chevron-left mr-1"></i> 前の講義
                        </a>
                        <a href="./lecture13.html" class="nav-link px-3 py-1 rounded text-sm hover:bg-blue-700 transition-colors">
                            次の講義 <i class="fas fa-chevron-right ml-1"></i>
                        </a>
                    </div>
                </div>
            </div>
        </div>
        <div class="bg-white px-4 py-3">
            <div class="max-w-7xl mx-auto">
                <div class="flex items-center justify-between">
                    <div class="flex items-center text-sm text-gray-600">
                        <a href="../index.html" class="hover:text-blue-600"><i class="fas fa-home mr-1"></i>ホーム</a>
                        <span class="breadcrumb-separator"></span>
                        <a href="../month/month1.html" class="hover:text-blue-600">1ヶ月目: Java基礎</a>
                        <span class="breadcrumb-separator"></span>
                        <a href="../week/week3.html" class="hover:text-blue-600">3週目: Java言語応用</a>
                        <span class="breadcrumb-separator"></span>
                        <span class="font-semibold text-blue-600">12日目: ジェネリクスと型安全性</span>
                    </div>
                    <div class="flex items-center space-x-3">
                        <a href="../day/day12.html" class="inline-flex items-center px-3 py-1 border border-blue-300 rounded-md text-sm text-blue-600 hover:bg-blue-50 transition-colors">
                            <i class="fas fa-clipboard-list mr-1"></i> 本日の概要
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </nav>
    <main class="pt-32">
        <header class="bg-blue-600 text-white shadow-lg">
            <div class="container mx-auto px-4 py-4">
                <div class="text-center">
                    <h1 class="text-2xl font-bold">ITエンジニア育成カリキュラム</h1>
                    <h2 class="text-xl">Day12: ジェネリクスと型安全性</h2>
                    <p class="text-lg text-blue-200">型パラメータ・境界型・ワイルドカード</p>
                </div>
            </div>
        </header>
        <div class="container mx-auto px-4 py-8 max-w-6xl">
        <!-- 学習目標 -->
        <section class="bg-white rounded-lg shadow-md p-6 mb-8">
            <h2 class="text-2xl font-bold text-blue-600 mb-4 flex items-center">
                <i class="fas fa-target mr-3"></i>学習目標
            </h2>
            <ul class="space-y-2">
                <li class="flex items-start">
                    <i class="fas fa-check-circle text-green-500 mr-3 mt-1"></i>
                    <span>ジェネリクス導入の背景と利点を具体例で説明できる</span>
                </li>
                <li class="flex items-start">
                    <i class="fas fa-check-circle text-green-500 mr-3 mt-1"></i>
                    <span>型パラメータ（T, E, K, V）の意味と命名規則を理解する</span>
                </li>
                <li class="flex items-start">
                    <i class="fas fa-check-circle text-green-500 mr-3 mt-1"></i>
                    <span>境界型とワイルドカードを適切に使い分けられる</span>
                </li>
                <li class="flex items-start">
                    <i class="fas fa-check-circle text-green-500 mr-3 mt-1"></i>
                    <span>PECS原則を理解し、実践的に活用できる</span>
                </li>
            </ul>
        </section>

        <!-- スケジュール表 -->
        <section class="bg-white rounded-lg shadow-md p-6 mb-8">
            <h2 class="text-2xl font-bold text-blue-600 mb-4 flex items-center">
                <i class="fas fa-clock mr-3"></i>本日のスケジュール
            </h2>
            <div class="overflow-x-auto">
                <table class="w-full border-collapse border border-gray-300">
                    <thead class="bg-blue-50">
                        <tr>
                            <th class="border border-gray-300 px-4 py-2 text-left">時間</th>
                            <th class="border border-gray-300 px-4 py-2 text-left">内容</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr><td class="border border-gray-300 px-4 py-2">10:00-10:20</td><td class="border border-gray-300 px-4 py-2">前日の振り返り</td></tr>
                        <tr class="bg-gray-50"><td class="border border-gray-300 px-4 py-2">10:20-11:00</td><td class="border border-gray-300 px-4 py-2">ジェネリクスの必要性と仕組み</td></tr>
                        <tr><td class="border border-gray-300 px-4 py-2">11:00-12:00</td><td class="border border-gray-300 px-4 py-2">型パラメータ・境界型・ワイルドカード</td></tr>
                        <tr class="bg-blue-50"><td class="border border-gray-300 px-4 py-2">12:00-13:00</td><td class="border border-gray-300 px-4 py-2">昼休憩</td></tr>
                        <tr><td class="border border-gray-300 px-4 py-2">13:00-14:15</td><td class="border border-gray-300 px-4 py-2">コード例：型安全なリストとメソッド</td></tr>
                        <tr class="bg-gray-50"><td class="border border-gray-300 px-4 py-2">14:15-15:00</td><td class="border border-gray-300 px-4 py-2">ワイルドカード実践（? extends / ? super）</td></tr>
                        <tr><td class="border border-gray-300 px-4 py-2">15:00-16:00</td><td class="border border-gray-300 px-4 py-2">演習：ジェネリクス クラス/メソッドの実装</td></tr>
                        <tr class="bg-gray-50"><td class="border border-gray-300 px-4 py-2">16:00-16:40</td><td class="border border-gray-300 px-4 py-2">理解度クイズ</td></tr>
                        <tr><td class="border border-gray-300 px-4 py-2">16:40-17:00</td><td class="border border-gray-300 px-4 py-2">まとめと次回予告</td></tr>
                    </tbody>
                </table>
            </div>
        </section>

        <!-- 講師向け指針 -->
        <section class="instructor-note mb-8">
            <h3 class="text-lg font-bold text-green-700 mb-3 flex items-center">
                <i class="fas fa-chalkboard-teacher mr-2"></i>講師向け指導ポイント
            </h3>
            <div class="grid md:grid-cols-2 gap-4">
                <div>
                    <h4 class="font-semibold text-green-600 mb-2">重点説明事項</h4>
                    <ul class="text-sm space-y-1">
                        <li>• ジェネリクス導入前後のコード比較を必ず示す</li>
                        <li>• PECS原則は具体例で段階的に説明</li>
                        <li>• 型消去の概念は上級者向けとして補足程度に</li>
                        <li>• 実際のコンパイルエラーを見せて体感させる</li>
                    </ul>
                </div>
                <div>
                    <h4 class="font-semibold text-green-600 mb-2">よくある躓きポイント</h4>
                    <ul class="text-sm space-y-1">
                        <li>• ワイルドカードと型パラメータの混同</li>
                        <li>• PECS原則の「Producer」「Consumer」の理解</li>
                        <li>• 境界型での&（アンド）記号の意味</li>
                        <li>• 型パラメータの命名規則の理由</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- メイン講義 -->
        <section class="bg-white rounded-lg shadow-md p-6 mb-8">
            <h2 class="text-2xl font-bold text-blue-600 mb-6 flex items-center">
                <i class="fas fa-book-open mr-3"></i>メイン講義
            </h2>

            <!-- ジェネリクス導入の背景 -->
            <div class="mb-8">
                <h3 class="text-xl font-bold text-gray-800 mb-4">🎯 ジェネリクス導入の背景</h3>
                
                <div class="understanding-tip">
                    <h4 class="font-semibold text-blue-600 mb-2">理解促進ポイント</h4>
                    <p class="text-sm">ジェネリクスは「型の安全性を保ちながら、汎用的なコードを書く仕組み」です。
                    「どんな型でも入る箱」を作りながら、「中身の型は決まっている」状態を実現します。</p>
                </div>

                <h4 class="font-semibold text-gray-700 mb-2">ジェネリクス導入前の問題点</h4>
                <div class="code-explanation">
                    <pre class="text-sm"><code>// ジェネリクス導入前のコード
List list = new ArrayList();
list.add("文字列");
list.add(123);  // 異なる型も追加できてしまう

String str = (String) list.get(0);  // キャストが必要
String str2 = (String) list.get(1); // 実行時エラー！ClassCastException</code></pre>
                </div>

                <h4 class="font-semibold text-gray-700 mb-2">ジェネリクス導入後の改善</h4>
                <div class="code-explanation">
                    <pre class="text-sm"><code>// ジェネリクス導入後のコード
List&lt;String&gt; list = new ArrayList&lt;String&gt;();
list.add("文字列");
// list.add(123);  // コンパイルエラー！型が合わない

String str = list.get(0);  // キャスト不要、型安全</code></pre>
                </div>

                <div class="term-definition">
                    <h4 class="font-semibold text-purple-600 mb-2">💡 専門用語解説</h4>
                    <p><strong>型安全性（Type Safety）</strong>：プログラムの実行中に型に関するエラーが発生しないことを保証する性質。
                    コンパイル時にチェックすることで、実行時エラーを防ぐ。</p>
                </div>
            </div>

            <!-- 型パラメータと境界型 -->
            <div class="mb-8">
                <h3 class="text-xl font-bold text-gray-800 mb-4">📝 型パラメータと境界型</h3>

                <h4 class="font-semibold text-gray-700 mb-2">型パラメータの命名規則</h4>
                <div class="understanding-tip">
                    <p class="text-sm mb-2">型パラメータには慣習的な命名規則があります：</p>
                    <ul class="text-sm space-y-1">
                        <li>• <strong>T</strong> - Type（型）の略。最も一般的</li>
                        <li>• <strong>E</strong> - Element（要素）の略。コレクションの要素型に使用</li>
                        <li>• <strong>K</strong> - Key（キー）の略。Mapのキー型に使用</li>
                        <li>• <strong>V</strong> - Value（値）の略。Mapの値型に使用</li>
                        <li>• <strong>N</strong> - Number（数値）の略。数値型に使用</li>
                    </ul>
                </div>

                <h4 class="font-semibold text-gray-700 mb-2">基本的な型パラメータ</h4>
                <div class="code-explanation">
                    <pre class="text-sm"><code>// 基本的なジェネリクスクラス
class Box&lt;T&gt; {
    private T value;
    
    public void set(T value) { 
        this.value = value; 
    }
    
    public T get() { 
        return value; 
    }
}</code></pre>
                </div>

                <h4 class="font-semibold text-gray-700 mb-2">境界型（上限境界）</h4>
                <div class="term-definition">
                    <h4 class="font-semibold text-purple-600 mb-2">💡 専門用語解説</h4>
                    <p><strong>境界型（Bounded Type）</strong>：型パラメータに制約を設けること。
                    「extends」で上限境界、「super」で下限境界を指定できる。</p>
                </div>

                <div class="code-explanation">
                    <pre class="text-sm"><code>// Number型またはそのサブクラスのみ受け入れる
class NumberBox&lt;T extends Number&gt; {
    private T value;
    
    public void setValue(T value) {
        this.value = value;
    }
    
    // Number型のメソッドが使える
    public double getDoubleValue() {
        return value.doubleValue();
    }
}

// 使用例
NumberBox&lt;Integer&gt; intBox = new NumberBox&lt;&gt;();  // OK
NumberBox&lt;Double&gt; doubleBox = new NumberBox&lt;&gt;(); // OK
// NumberBox&lt;String&gt; stringBox = new NumberBox&lt;&gt;(); // コンパイルエラー</code></pre>
                </div>

                <h4 class="font-semibold text-gray-700 mb-2">複数境界</h4>
                <div class="understanding-tip">
                    <p class="text-sm">「&」記号を使って複数の制約を同時に指定できます。これは「AND条件」を意味します。</p>
                </div>

                <div class="code-explanation">
                    <pre class="text-sm"><code>// NumberクラスのサブクラスかつComparableを実装している型のみ
class SortableNumberBox&lt;T extends Number & Comparable&lt;T&gt;&gt; {
    private T value;
    
    public boolean isGreaterThan(T other) {
        return value.compareTo(other) > 0;  // Comparableメソッドが使用可能
    }
}</code></pre>
                </div>
            </div>

            <!-- ワイルドカード -->
            <div class="mb-8">
                <h3 class="text-xl font-bold text-gray-800 mb-4">🃏 ワイルドカード</h3>

                <div class="term-definition">
                    <h4 class="font-semibold text-purple-600 mb-2">💡 専門用語解説</h4>
                    <p><strong>ワイルドカード（?）</strong>：「何らかの型」を表す記号。
                    具体的な型は指定しないが、型安全性は保持する仕組み。</p>
                </div>

                <h4 class="font-semibold text-gray-700 mb-2">ワイルドカードの種類</h4>
                <div class="overflow-x-auto">
                    <table class="w-full border-collapse border border-gray-300">
                        <thead class="bg-blue-50">
                            <tr>
                                <th class="border border-gray-300 px-4 py-2 text-left">記法</th>
                                <th class="border border-gray-300 px-4 py-2 text-left">意味</th>
                                <th class="border border-gray-300 px-4 py-2 text-left">用途</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="border border-gray-300 px-4 py-2 font-mono">List&lt;?&gt;</td>
                                <td class="border border-gray-300 px-4 py-2">任意の型のList</td>
                                <td class="border border-gray-300 px-4 py-2">型を問わず処理したい場合</td>
                            </tr>
                            <tr class="bg-gray-50">
                                <td class="border border-gray-300 px-4 py-2 font-mono">List&lt;? extends Number&gt;</td>
                                <td class="border border-gray-300 px-4 py-2">Number型またはその子クラスのList</td>
                                <td class="border border-gray-300 px-4 py-2">データを読み取るとき（Producer）</td>
                            </tr>
                            <tr>
                                <td class="border border-gray-300 px-4 py-2 font-mono">List&lt;? super Integer&gt;</td>
                                <td class="border border-gray-300 px-4 py-2">Integer型またはその親クラスのList</td>
                                <td class="border border-gray-300 px-4 py-2">データを書き込むとき（Consumer）</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <h4 class="font-semibold text-gray-700 mb-2 mt-4">PECS原則の詳細解説</h4>
                <div class="term-definition">
                    <h4 class="font-semibold text-purple-600 mb-2">🎯 PECS原則とは</h4>
                    <p><strong>PECS</strong> = <strong>P</strong>roducer <strong>E</strong>xtends, <strong>C</strong>onsumer <strong>S</strong>uper</p>
                    <ul class="mt-2 space-y-1">
                        <li>• <strong>Producer（生産者）</strong>：データを<u>提供する</u>側 → <code>? extends</code>を使用</li>
                        <li>• <strong>Consumer（消費者）</strong>：データを<u>受け取る</u>側 → <code>? super</code>を使用</li>
                    </ul>
                </div>

                <div class="understanding-tip">
                    <h4 class="font-semibold text-blue-600 mb-2">理解しやすい例え話</h4>
                    <p class="text-sm">
                    <strong>Producer（? extends）</strong>：果物屋さん（Producer）から果物を取り出す。
                    「りんご以下」の箱からは、必ずりんごまたはその仲間が取り出せる。<br>
                    <strong>Consumer（? super）</strong>：果物箱（Consumer）に果物を入れる。
                    「りんご以上」の箱には、りんごやその上位（果物）を安全に入れられる。
                    </p>
                </div>

                <div class="code-explanation">
                    <pre class="text-sm"><code>// Producer Extends の例：データを読み取る
public static double sumNumbers(List&lt;? extends Number&gt; numbers) {
    double sum = 0;
    for (Number num : numbers) {
        sum += num.doubleValue();  // 読み取り専用、Number型として扱える
    }
    return sum;
}

// Consumer Super の例：データを書き込む
public static void addIntegers(List&lt;? super Integer&gt; list) {
    list.add(1);     // Integer を安全に追加できる
    list.add(2);     // Integer を安全に追加できる
    // Number num = list.get(0);  // 読み取りは型が保証されない（Object型）
}</code></pre>
                </div>
            </div>

            <!-- 型消去と注意点 -->
            <div class="mb-8">
                <h3 class="text-xl font-bold text-gray-800 mb-4">⚠️ 型消去と注意点</h3>

                <div class="warning-box">
                    <h4 class="font-semibold text-orange-600 mb-2">上級者向け補足情報</h4>
                    <p class="text-sm">型消去は上級概念です。初心者の方は「ジェネリクスの型情報はコンパイル時にのみ存在する」
                    ということだけ覚えておけば十分です。</p>
                </div>

                <div class="term-definition">
                    <h4 class="font-semibold text-purple-600 mb-2">💡 専門用語解説</h4>
                    <p><strong>型消去（Type Erasure）</strong>：コンパイル時にジェネリクスの型情報をチェックした後、
                    実行時には型パラメータを削除する仕組み。下位互換性を保つためのJavaの設計。</p>
                </div>

                <div class="code-explanation">
                    <pre class="text-sm"><code>// コンパイル前
List&lt;String&gt; stringList = new ArrayList&lt;String&gt;();
List&lt;Integer&gt; intList = new ArrayList&lt;Integer&gt;();

// コンパイル後（型消去後）
List stringList = new ArrayList();
List intList = new ArrayList();

// そのため以下は同じクラス
System.out.println(stringList.getClass() == intList.getClass()); // true</code></pre>
                </div>
            </div>

            <!-- ジェネリクスとコレクションの活用 -->
            <div class="mb-8">
                <h3 class="text-xl font-bold text-gray-800 mb-4">🔧 ジェネリクスとコレクションの活用</h3>

                <div class="code-explanation">
                    <pre class="text-sm"><code>// 型安全なコレクション操作の例
public class StudentManager {
    private List&lt;Student&gt; students = new ArrayList&lt;&gt;();
    
    public void addStudent(Student student) {
        students.add(student);
    }
    
    public List&lt;Student&gt; getStudentsByGrade(int grade) {
        return students.stream()
                      .filter(s -&gt; s.getGrade() == grade)
                      .collect(Collectors.toList());
    }
    
    // ジェネリクスメソッドの例
    public &lt;T extends Comparable&lt;T&gt;&gt; T findMax(List&lt;T&gt; list) {
        if (list.isEmpty()) {
            return null;
        }
        
        T max = list.get(0);
        for (T item : list) {
            if (item.compareTo(max) &gt; 0) {
                max = item;
            }
        }
        return max;
    }
}</code></pre>
                </div>
            </div>
        </section>

        <!-- 演習問題 -->
        <section class="exercise-section mb-8">
            <h2 class="text-2xl font-bold text-yellow-700 mb-4 flex items-center">
                <i class="fas fa-code mr-3"></i>演習問題
            </h2>
            
            <div class="bg-white p-4 rounded border">
                <h3 class="font-bold text-lg mb-3">💡 ジェネリクスクラスの実装</h3>
                <p class="mb-4">ジェネリクスを使用した <code>Pair&lt;K, V&gt;</code> クラスを実装してください。
                このクラスは2つの異なる型の値をペアとして保持し、<code>getKey()</code> と <code>getValue()</code> メソッドを提供します。</p>
                
                <div class="mb-4">
                    <strong>要件：</strong>
                    <ul class="list-disc list-inside mt-2 space-y-1">
                        <li>キー（K型）と値（V型）を保持するフィールド</li>
                        <li>コンストラクタで初期値を設定</li>
                        <li>getKey()、getValue()メソッドの実装</li>
                        <li>equals()とhashCode()メソッドの実装（オプション）</li>
                    </ul>
                </div>

                <button onclick="showExerciseAnswer()" class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded transition duration-200">
                    <i class="fas fa-eye mr-2"></i>回答例を表示
                </button>

                <div sec:authorize="hasAnyRole('ADMIN','INSTRUCTOR')" id="exerciseAnswer" class="answer-section mt-4">
                    <h4 class="font-semibold text-blue-600 mb-2">📝 回答例</h4>
                    <div class="code-explanation">
                        <pre class="text-sm"><code>public class Pair&lt;K, V&gt; {
    private final K key;
    private final V value;
    
    // コンストラクタ
    public Pair(K key, V value) {
        this.key = key;
        this.value = value;
    }
    
    // キーを取得
    public K getKey() {
        return key;
    }
    
    // 値を取得
    public V getValue() {
        return value;
    }
    
    // equals メソッド（オプション）
    @Override
    public boolean equals(Object obj) {
        if (this == obj) return true;
        if (obj == null || getClass() != obj.getClass()) return false;
        
        Pair&lt;?, ?&gt; pair = (Pair&lt;?, ?&gt;) obj;
        return Objects.equals(key, pair.key) && 
               Objects.equals(value, pair.value);
    }
    
    // hashCode メソッド（オプション）
    @Override
    public int hashCode() {
        return Objects.hash(key, value);
    }
    
    // toString メソッド（デバッグ用）
    @Override
    public String toString() {
        return String.format("Pair{key=%s, value=%s}", key, value);
    }
}

// 使用例
public class PairExample {
    public static void main(String[] args) {
        // 文字列と整数のペア
        Pair&lt;String, Integer&gt; nameAge = new Pair&lt;&gt;("田中太郎", 25);
        System.out.println("名前: " + nameAge.getKey());
        System.out.println("年齢: " + nameAge.getValue());
        
        // 整数と文字列のペア
        Pair&lt;Integer, String&gt; idName = new Pair&lt;&gt;(1001, "システム管理者");
        System.out.println("ID: " + idName.getKey());
        System.out.println("役職: " + idName.getValue());
    }
}</code></pre>
                    </div>
                    
                    <div class="understanding-tip mt-4">
                        <h4 class="font-semibold text-blue-600 mb-2">解説ポイント</h4>
                        <ul class="text-sm space-y-1">
                            <li>• <strong>型パラメータ</strong>：&lt;K, V&gt;でキーと値の型を指定</li>
                            <li>• <strong>final修飾子</strong>：一度設定した値を変更不可にする（イミュータブル設計）</li>
                            <li>• <strong>equals/hashCode</strong>：オブジェクトの等価性判定に必要</li>
                            <li>• <strong>ワイルドカード</strong>：equals内でPair&lt;?, ?&gt;を使用して任意の型のPairと比較可能</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- 理解度確認クイズ -->
        <section class="bg-white rounded-lg shadow-md p-6 mb-8">
            <h2 class="text-2xl font-bold text-blue-600 mb-6 flex items-center">
                <i class="fas fa-question-circle mr-3"></i>理解度確認クイズ
            </h2>

            <div class="quiz-question">
                <p class="font-semibold mb-3">1. ジェネリクス導入前の主な問題点として最も適切なものはどれでしょうか？</p>
                <div class="space-y-2">
                    <label class="flex items-center"><input type="radio" name="q1" class="mr-2"> A: コードの冗長化</label>
                    <label class="flex items-center"><input type="radio" name="q1" class="mr-2"> B: 型安全性の欠如とキャストの必要性</label>
                    <label class="flex items-center"><input type="radio" name="q1" class="mr-2"> C: 実行速度の低下</label>
                    <label class="flex items-center"><input type="radio" name="q1" class="mr-2"> D: 例外処理の複雑化</label>
                </div>
                <button sec:authorize="hasAnyRole('ADMIN','INSTRUCTOR')" onclick="showAnswer(1)" class="mt-3 bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded">回答を表示</button>
                <div sec:authorize="hasAnyRole('ADMIN','INSTRUCTOR')" id="answer1" class="answer-section mt-3">
                    <p><strong>正解: B</strong></p>
                    <p><strong>詳細解説:</strong> ジェネリクス導入前は、コレクションにObject型で要素を格納するため、取り出し時に適切な型へのキャストが必要でした。
                    また、異なる型の要素を混在して格納できてしまい、実行時にClassCastExceptionが発生するリスクがありました。
                    ジェネリクスにより、コンパイル時に型チェックが行われ、これらの問題が解決されました。</p>
                </div>
            </div>

            <div class="quiz-question">
                <p class="font-semibold mb-3">2. <code>&lt;T extends Number&gt;</code> の意味として正しいものはどれでしょうか？</p>
                <div class="space-y-2">
                    <label class="flex items-center"><input type="radio" name="q2" class="mr-2"> A: T は Number 型またはそのスーパータイプ</label>
                    <label class="flex items-center"><input type="radio" name="q2" class="mr-2"> B: T は Number 型またはそのサブタイプ</label>
                    <label class="flex items-center"><input type="radio" name="q2" class="mr-2"> C: T は Number を実装するインターフェース</label>
                    <label class="flex items-center"><input type="radio" name="q2" class="mr-2"> D: T は任意の型</label>
                </div>
                <button sec:authorize="hasAnyRole('ADMIN','INSTRUCTOR')" onclick="showAnswer(2)" class="mt-3 bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded">回答を表示</button>
                <div sec:authorize="hasAnyRole('ADMIN','INSTRUCTOR')" id="answer2" class="answer-section mt-3">
                    <p><strong>正解: B</strong></p>
                    <p><strong>詳細解説:</strong> <code>extends</code>キーワードは「上限境界」を表します。
                    <code>&lt;T extends Number&gt;</code>は「TはNumber型またはNumberのサブクラス（子クラス）である」という制約を意味します。
                    例えば、Integer、Double、Long等のNumber継承クラスは使用可能ですが、String等は使用できません。
                    この制約により、T型の変数でNumber型のメソッド（doubleValue()等）を安全に呼び出すことができます。</p>
                </div>
            </div>

            <div class="quiz-question">
                <p class="font-semibold mb-3">3. <code>List&lt;? super Integer&gt;</code> の適切な用途はどれでしょうか？</p>
                <div class="space-y-2">
                    <label class="flex items-center"><input type="radio" name="q3" class="mr-2"> A: Integer型の要素を読み取る場合</label>
                    <label class="flex items-center"><input type="radio" name="q3" class="mr-2"> B: Integer型の要素を書き込む場合</label>
                    <label class="flex items-center"><input type="radio" name="q3" class="mr-2"> C: 任意の型の要素を扱う場合</label>
                    <label class="flex items-center"><input type="radio" name="q3" class="mr-2"> D: Integer以下の型のみを扱う場合</label>
                </div>
                <button sec:authorize="hasAnyRole('ADMIN','INSTRUCTOR')" onclick="showAnswer(3)" class="mt-3 bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded">回答を表示</button>
                <div sec:authorize="hasAnyRole('ADMIN','INSTRUCTOR')" id="answer3" class="answer-section mt-3">
                    <p><strong>正解: B</strong></p>
                    <p><strong>詳細解説:</strong> <code>? super Integer</code>は「Integerのスーパータイプ」を表す下限境界です。
                    PECS原則の「Consumer Super」に該当し、リストに要素を追加（消費）する際に使用します。
                    Integer型の値は、Integer、Number、Objectのいずれのリストにも安全に追加できるため、
                    Integer型の要素を書き込む処理に適しています。逆に、読み取り時は型が保証されません（Object型になる）。</p>
                </div>
            </div>

            <div class="quiz-question">
                <p class="font-semibold mb-3">4. PECS原則の意味として正しいものはどれでしょうか？</p>
                <div class="space-y-2">
                    <label class="flex items-center"><input type="radio" name="q4" class="mr-2"> A: Producer Extends, Consumer Super</label>
                    <label class="flex items-center"><input type="radio" name="q4" class="mr-2"> B: Private Extends, Common Super</label>
                    <label class="flex items-center"><input type="radio" name="q4" class="mr-2"> C: Public Encapsulation, Class Safety</label>
                    <label class="flex items-center"><input type="radio" name="q4" class="mr-2"> D: Package Each Class Separately</label>
                </div>
                <button sec:authorize="hasAnyRole('ADMIN','INSTRUCTOR')" onclick="showAnswer(4)" class="mt-3 bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded">回答を表示</button>
                <div sec:authorize="hasAnyRole('ADMIN','INSTRUCTOR')" id="answer4" class="answer-section mt-3">
                    <p><strong>正解: A</strong></p>
                    <p><strong>詳細解説:</strong> PECS原則は「Producer Extends, Consumer Super」の略です。
                    <strong>Producer（生産者）</strong>：データを提供する側では<code>? extends</code>を使用。
                    <strong>Consumer（消費者）</strong>：データを受け取る側では<code>? super</code>を使用。
                    この原則により、型安全性を保ちながら柔軟なジェネリクス設計が可能になります。
                    例：<code>List&lt;? extends Fruit&gt;</code>から果物を取り出す、<code>List&lt;? super Apple&gt;</code>にりんごを追加する。</p>
                </div>
            </div>

            <div class="quiz-question">
                <p class="font-semibold mb-3">5. ジェネリクスメソッドの正しい定義方法はどれでしょうか？</p>
                <div class="space-y-2">
                    <label class="flex items-center"><input type="radio" name="q5" class="mr-2"> A: <code>void &lt;T&gt; method(T t)</code></label>
                    <label class="flex items-center"><input type="radio" name="q5" class="mr-2"> B: <code>&lt;T&gt; void method(T t)</code></label>
                    <label class="flex items-center"><input type="radio" name="q5" class="mr-2"> C: <code>void method&lt;T&gt;(T t)</code></label>
                    <label class="flex items-center"><input type="radio" name="q5" class="mr-2"> D: <code>&lt;T extends Object&gt; method(T t)</code></label>
                </div>
                <button sec:authorize="hasAnyRole('ADMIN','INSTRUCTOR')" onclick="showAnswer(5)" class="mt-3 bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded">回答を表示</button>
                <div sec:authorize="hasAnyRole('ADMIN','INSTRUCTOR')" id="answer5" class="answer-section mt-3">
                    <p><strong>正解: B</strong></p>
                    <p><strong>詳細解説:</strong> ジェネリクスメソッドでは、型パラメータを戻り値の型の前に記述します。
                    正しい構文は<code>&lt;T&gt; 戻り値の型 メソッド名(T t)</code>です。
                    例：<code>public &lt;T&gt; void printArray(T[] array)</code>や<code>public &lt;T extends Comparable&lt;T&gt;&gt; T findMax(List&lt;T&gt; list)</code>。
                    この記法により、メソッド単体でジェネリクスを使用することができ、クラス全体をジェネリクスにする必要がありません。</p>
                </div>
            </div>
        </section>

        <!-- まとめ -->
        <section class="bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg shadow-md p-6 mb-8">
            <h2 class="text-2xl font-bold text-blue-600 mb-6 flex items-center">
                <i class="fas fa-clipboard-check mr-3"></i>本日のまとめ
            </h2>

            <div class="grid md:grid-cols-2 gap-6">
                <div class="bg-white p-4 rounded-lg">
                    <h3 class="font-semibold text-blue-600 mb-3 flex items-center">
                        <i class="fas fa-shield-alt mr-2"></i>ジェネリクスの利点
                    </h3>
                    <ul class="space-y-2 text-sm">
                        <li>• <strong>型安全性の向上</strong>：コンパイル時に型エラーを検出</li>
                        <li>• <strong>キャスト不要</strong>：型変換の手間とエラーリスクを削減</li>
                        <li>• <strong>コードの再利用</strong>：1つのクラスで複数の型に対応</li>
                        <li>• <strong>可読性向上</strong>：コードから意図が明確に読み取れる</li>
                    </ul>
                </div>

                <div class="bg-white p-4 rounded-lg">
                    <h3 class="font-semibold text-blue-600 mb-3 flex items-center">
                        <i class="fas fa-code mr-2"></i>重要な記法
                    </h3>
                    <ul class="space-y-2 text-sm">
                        <li>• <strong>&lt;T&gt;</strong>：基本的な型パラメータ</li>
                        <li>• <strong>&lt;T extends Class&gt;</strong>：上限境界（Class以下の型）</li>
                        <li>• <strong>&lt;? extends T&gt;</strong>：読み取り用（Producer）</li>
                        <li>• <strong>&lt;? super T&gt;</strong>：書き込み用（Consumer）</li>
                    </ul>
                </div>

                <div class="bg-white p-4 rounded-lg">
                    <h3 class="font-semibold text-blue-600 mb-3 flex items-center">
                        <i class="fas fa-lightbulb mr-2"></i>PECS原則の活用
                    </h3>
                    <ul class="space-y-2 text-sm">
                        <li>• <strong>Producer Extends</strong>：データを取り出すなら「? extends」</li>
                        <li>• <strong>Consumer Super</strong>：データを入れるなら「? super」</li>
                        <li>• <strong>読み取り専用</strong>：extendsは安全に読める</li>
                        <li>• <strong>書き込み専用</strong>：superは安全に書ける</li>
                    </ul>
                </div>

                <div class="bg-white p-4 rounded-lg">
                    <h3 class="font-semibold text-blue-600 mb-3 flex items-center">
                        <i class="fas fa-exclamation-triangle mr-2"></i>注意すべきポイント
                    </h3>
                    <ul class="space-y-2 text-sm">
                        <li>• <strong>型消去</strong>：実行時には型情報が消える</li>
                        <li>• <strong>配列との相性</strong>：ジェネリクス配列は作成不可</li>
                        <li>• <strong>static制約</strong>：staticメンバーでは型パラメータ使用不可</li>
                        <li>• <strong>instanceof制約</strong>：型パラメータでのinstanceof不可</li>
                    </ul>
                </div>
            </div>

            <div class="mt-6 p-4 bg-blue-100 rounded-lg">
                <h3 class="font-semibold text-blue-800 mb-2">次回予告：Day13「ラムダ式と関数型プログラミング基礎」</h3>
                <p class="text-sm text-blue-700">
                ジェネリクスで型安全性を学んだ次は、関数型プログラミングの基礎となるラムダ式を学習します。
                @FunctionalInterface、メソッド参照、そして関数型思考について理解を深めます。
                今日学んだジェネリクスの知識は、ラムダ式や Stream API でも重要な役割を果たします。
                </p>
            </div>
        </section>

        <!-- ナビゲーションリンク -->
        <section class="bg-white rounded-lg shadow-md p-6 mb-8">
            <h2 class="text-xl font-bold text-gray-800 mb-4">ナビゲーション</h2>
            <div class="flex flex-wrap gap-4">
                <a href="lecture11.html" class="flex items-center bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded transition duration-200">
                    <i class="fas fa-arrow-left mr-2"></i>前日: Day11 コレクションフレームワーク基礎
                </a>
                <a href="lecture13.html" class="flex items-center bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded transition duration-200">
                    翌日: Day13 ラムダ式と関数型プログラミング基礎<i class="fas fa-arrow-right ml-2"></i>
                </a>
                <a href="../week/week3.html" class="flex items-center bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded transition duration-200">
                    <i class="fas fa-list mr-2"></i>第3週一覧
                </a>
                <a href="../month/month1.html" class="flex items-center bg-purple-500 hover:bg-purple-600 text-white px-4 py-2 rounded transition duration-200">
                    <i class="fas fa-calendar mr-2"></i>第1ヶ月目一覧
                </a>
            </div>
        </section>
    </div>
    </main>

    <!-- フッター -->
    <footer class="bg-gray-800 text-white py-8">
        <div class="container mx-auto px-4 text-center">
            <div class="mb-4">
                <p class="text-sm">開発環境: Pleiades (Eclipse) + Amazon Corretto JDK 17</p>
            </div>
            <p class="text-sm">&copy; 2025 APSA Co.,Ltd. All Rights Reserved.</p>
        </div>
    </footer>

    <script>
        function showAnswer(questionNumber) {
            const answerDiv = document.getElementById('answer' + questionNumber);
            if (answerDiv.style.display === 'none' || answerDiv.style.display === '') {
                answerDiv.style.display = 'block';
            } else {
                answerDiv.style.display = 'none';
            }
        }

        function showExerciseAnswer() {
            const answerDiv = document.getElementById('exerciseAnswer');
            if (answerDiv.style.display === 'none' || answerDiv.style.display === '') {
                answerDiv.style.display = 'block';
            } else {
                answerDiv.style.display = 'none';
            }
        }
    </script>
</body>
</html>
    <script id="html_badge_script1">
        window.__genspark_remove_badge_link = "https://www.genspark.ai/api/html_badge/" +
            "remove_badge?token=To%2FBnjzloZ3UfQdcSaYfDsZhQN0Ey3iH%2BYivaJOXVRmXWYqhB0%2FXnCSKuALYg%2BHFr0VPFNyQL0vLma1y7dQfcBbPk3H0Lxg6y3M3P2rkGC%2F%2BFEeIXJasLmuNqf%2F9us1JH99Ah0DfwBvfNiQ2Cv77CjpvAXMNa36oZQBLAqC4DeWmCALwUks%2Bq8zuM56DAs35YozNEqNFFVw9HRnQ5Et9%2FK1IJUGRvV8n3GT8uerTycK6iDFMlre3Tzwpcssemk4ON3bn86lfb6Y%2FZPQjS8hjE1Dc20b9ReXwFDlK5JgtUIpENDN9sLy8IqXwYXFHRV9finktre6HB0sQQTJMj8CKn7tkOL63ed6HYuUSjOdwuSfV%2BkFlKSEb9w%2B%2BOcbQHx9DThPvd0w4IDRPmMx%2BW5BuVH0t8B5jY%2BpyRJRwxmqvGeZ0m2uP1tKUdHRQqX%2BztmbBPN%2F6oNRnYQRK%2FQvR9ob%2BsiopkK7E%2FB1GDMGzR6tO6mm0SU5afjnz4tHRSZGN5EiL21Myj6rB9IJeAsFjhG%2Fg%2BaAkoegzchgvN7QWvpvMf0WQL3pBDyiIwN8b5VpIuxSD";
        window.__genspark_locale = "ja-JP";
        window.__genspark_token = "To/BnjzloZ3UfQdcSaYfDsZhQN0Ey3iH+YivaJOXVRmXWYqhB0/XnCSKuALYg+HFr0VPFNyQL0vLma1y7dQfcBbPk3H0Lxg6y3M3P2rkGC/+FEeIXJasLmuNqf/9us1JH99Ah0DfwBvfNiQ2Cv77CjpvAXMNa36oZQBLAqC4DeWmCALwUks+q8zuM56DAs35YozNEqNFFVw9HRnQ5Et9/K1IJUGRvV8n3GT8uerTycK6iDFMlre3Tzwpcssemk4ON3bn86lfb6Y/ZPQjS8hjE1Dc20b9ReXwFDlK5JgtUIpENDN9sLy8IqXwYXFHRV9finktre6HB0sQQTJMj8CKn7tkOL63ed6HYuUSjOdwuSfV+kFlKSEb9w++OcbQHx9DThPvd0w4IDRPmMx+W5BuVH0t8B5jY+pyRJRwxmqvGeZ0m2uP1tKUdHRQqX+ztmbBPN/6oNRnYQRK/QvR9ob+siopkK7E/B1GDMGzR6tO6mm0SU5afjnz4tHRSZGN5EiL21Myj6rB9IJeAsFjhG/g+aAkoegzchgvN7QWvpvMf0WQL3pBDyiIwN8b5VpIuxSD";
    </script>
    
    <script id="html_notice_dialog_script" src="https://www.genspark.ai/notice_dialog.js"></script>
    